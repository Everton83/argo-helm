controller:

  enableStatefulSet: true

crds:

  install: false

haproxy:

  enabled: true

  image:

    pullPolicy: IfNotPresent

    repository: haproxy

  readOnly:

    enabled: false

    port: 6380

  replicas: 3

redis:

  enabled: true

  image:

    imagePullPolicy: IfNotPresent

    repository: redis

  name: redis

redis-ha:

  enabled: true

  exporter:

    enabled: true

  persistentVolume:

    accessModes:

    - ReadWriteOnce

    enabled: true

    fsType: ext4

    provisioner: kubernetes.io/aws-ebs

    size: 10Gi

    storageClass: extgp2

    type: gp2

repoServer:

  autoscaling:

    enabled: true

    minReplicas: 2

  resources:

    limits:

      cpu: 50m

      memory: 128Mi

    requests:

      cpu: 10m

      memory: 64Mi

server:

  autoscaling:

    enabled: true

    minReplicas: 2

  config:

    dex.config: |

      connectors:

      - type: ldap

        name: LDAP

        id: ldap

        config:

          host: "10.224.251.73:389"

          insecureNoSSL: false

          insecureSkipVerify: true

          bindDN: "CN=Argo CD,OU=Aplicacoes,OU=Usuarios,OU=Privado,DC=hubfintech,DC=local"

          bindPW: "FintechMagalu@2022"

          usernamePrompt: sAMAccountName

          userSearch:

            baseDN: "dc=hubfintech,dc=local"

            filter: "(sAMAccountName=%s)"

            username: sAMAccountName

            idAttr: distinguishedName

            emailAttr: mail

            nameAttr: displayName

  extraArgs:

  - --insecure

  ingress:

    annotations:

      ingress.kubernetes.io/ssl-redirect: "true"

      kubernetes.io/ingress.class: nginx

      nginx.ingress.kubernetes.io/force-ssl-redirect: "true"

    backend:

      service:

        name: argocd-server

        port:

          name: https

    enabled: true

    extraPaths: []

    hosts:

    - argocd-qa.fintechmagalu.com.br

    https: true

    labels: {}

    pathType: Prefix

    paths:

    - /

    tls:

    - hosts:

      - argocd-qa.fintechmagalu.com.br

      secretName: ssl-fintechmagalu

  ingressGrpc:

    annotations: {}

    awsALB:

      backendProtocolVersion: HTTP2

      serviceType: ClusterIP

    enabled: false

    extraPaths: []

    hosts:

    - grpc-argocd-qa.fintechmagalu.com.br

    https: false

    ingressClassName: nginx

    isAWSALB: true

    labels: {}

    pathType: Prefix

    paths:

    - /

    tls:

    - hosts:

      - grpc-argocd-qa.fintechmagalu.com.br

      secretName: ssl-fintechmagalu

  resources:

    limits:

      cpu: 100m

      memory: 128Mi

    requests:

      cpu: 50m

      memory: 64Mi

